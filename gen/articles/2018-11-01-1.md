
[//]: # (gen-title: How to Back Up Your Mac Photos to Amazon S3)

[//]: # (gen-title-url: How-to-Back-Up-Your-Mac-Photos-to-Amazon-S3)

[//]: # (gen-keywords: how to, apple, mac, photos, amazon, s3, aws, backup, backblaze, carbonite)

[//]: # (gen-description: A step by step guide for backing up your Mac's Photos library)

[//]: # (gen-meta-end)










# How to Back Up Your Mac Photos to Amazon S3

(is there an amazon aws/s3 referral link?)

Your family photos are probably among the most important files on your computer, and they cannot be recreated if your computer or files are lost, stolen, or damaged.  In this post I’ll show how I do my personal photo backup every month.

You may have your photos backed up already with Apple iCloud, Carbonite, Backblaze, or another service, as I do, but if you’re like me, you’ll be most comfortable with *another* separate copy of your photos.  It’s important to have an "offsite" backup of your photos, at a different physical location, to lower the chance of losing your photos in case your computer or hard drive is damaged or stolen. 

These instructions are what I follow on Mac OS High Sierra at the time of writing.  I’ll update this post if necessary for Mac OS Mohave once I update my system.

The goals are to
* save an offsite copy of your photos to Amazon S3 or to a similar service,
* use full-quality images and videos where possible,
* preserve edits and live photo effects so non-Apple devices and software can view them, and
* every month, save last month’s photos.

HEIC (photos, which the Photos app exports as .HEIC files) and HEVC (videos, which the Photos app exports as ".MOV" files)

Again, this is not meant to be your primary photo backup method.  That should be done automatically and constantly (along with all the rest of your data) with a service like Apple iCloud, Carbonite, or Backblaze.  This is intended to be a low-cost emergency backup of your most prized data possessions in case every other backup fails.

But what does it cost?  S3 pricing may vary a little depending on where you're located but my last month's S3 bill was $2.08 for 166.326 GB of photos and video.  In my AWS pricing region, the "US West (Oregon)" region, the exact price is $0.0125 (1 1/4 cents) per GB per month.  If that cost is too high for you, and you already have a full backup of your computer, you could consider just backing up your favorite photos and not your entire library.  For example, if you limit your backup 50 GB, it would cost just 63 cents per month and you could store about 25,000 of your favorite full-quality photos.

As for pricing competition for [Amazon S3](https://aws.amazon.com/s3/pricing), there are cheaper options like [Microsoft Azure](https://azure.microsoft.com/en-us/pricing/details/storage/blobs/), [Google Cloud Storage](https://cloud.google.com/storage/pricing-summary/), [Backblaze B2](https://www.backblaze.com/b2/cloud-storage-pricing.html), and [Wasabi](https://wasabi.com/pricing/).  Beware that Wasabi has a 1 TB ($4.99) minimum monthly cost, so it's only inexpensive if you're storing more than 1 TB of data.

I am deliberately ignoring each service's additional cost, where applicable, to download your data, because this backup is intended to stored and then only accessed in time of emergency.  Beware that these data storage services can get more expensive if you download your backed-up photos with any frequency.  Along these lines, another inexpensive option but with a more complex pricing model is [Amazon Glacier](https://aws.amazon.com/glacier/) &mdash; but only use this service if you are confident in your estimate of the costs involved to retrieve your backed up data.

## Setup

Make sure the *"Include location information for published items"* box is checked in the "Photos" > "Preferences" menu:

Create a new smart album for the edited photos of the month you’re going to back up.  Along with edited regular photos, this will include long exposure shots and other live photo effects:
* match *All* conditions where
* photos are edited and
* filter by Date "is in the range" of the first of the month to the last day of the month

## Preserve Edits

Create a folder to use temporarily for exported photos.

Edit the above smart album if you already have one to filter for the photos from the month you’re backing up, then select all the photos (⌘+A) and drag them into the folder.  The Photos app with then export a new copy of the edited photos with their changes intact.  Then open the Imports view in Photos, select all the new exported files in the folder (⌘+A) and drag them into the Photos app and import them.  After they’re re-imported, you can delete the folder.  The Photos app now has a copy of all the edited photos, long exposures, etc., preserved as new files that can be exported.

You can delete the original edited photos in the Photos app, or hide the imported copies.  Just make sure for the next export step that you export the copies you just made.

## Export

Select all photos from the month.  Either click and drag the mouse to select the photos in the *Photos* view, or make a new smart album filtering by Date "is in the range" of the first of the month to the last day of the month.  I don’t recommend doing a search for the month (like "Octoboer 2018") because sometimes the latest photos don’t appear in the search results!

Once you have the month’s photos selected, use the menu item File > Export > Export Unmodified Original for N Items and save them to a new folder.  I like to use a consistent folder name like "photos-2018-10".

## Compress

This step doesn’t save much disk space if any, since images and videos are already compressed, but it does make uploading easier.

I like to split my exported photos folder into 1GB smaller folders, just to give give the upload though the web browser a higher chance of succeeding.  I use my custom script to do that:

## Upload

For S3 backups I use "Standard-IA" storage and no encryption.  In the case of a disaster and I need to access these backups, I don't want to have to worry about finding the decryption key or password.

## Verify the Upload

Since I will most likely upload these zip files once and then not look at them for years, I want peace of mind that they uploaded correctly.  You can check the uploaded file's "etag" in S3 and verify it matches the local file.  Click the checkbox next to the uploaded file, and an information panel on the file will appear in the S3 window, showing the etag value.  On your computer, run

	python calculate_multipart_etag.py photos-2017-01-1.zip 16

Adjust that ending `16` argument to be `8` or  second arg if too many or too few parts are hashed to create the etag.  if the file is so small that the etag ends with "-1", just check its md5 hash

	md5 photos-2017-01-1.zip

Now that you've uploaded everything, you can delete all the folders and zip files you created for the backups from your computer.  You now have a standalone copy of your pictures in Amazon S3.